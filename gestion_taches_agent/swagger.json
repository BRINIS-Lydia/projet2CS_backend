{
    "swagger": "2.0",
    "host": "localhost:8000",
    "info": {
    "version": "1.0.0",
    "title": "Documentation du service gestion des taches des agents üòÑ",
    "description": "Cette documentation contient tout les endpoint du service gestion des taches des agents. \nVeuillez-trouvez tout les d√©tails dans la section models. ",
    "license": {
        "name": "MIT",
        "url": "https://opensource.org/licenses/MIT"
        }
    }, 
    "tags": [{
        "name": "Tache des agents",
        "description": "Tout les m√©thodes sur le endpoint AgentTask :"
    }],
    "schemes": ["http"],
    "consumes": ["application/json"],
    "produces": ["application/json"],


    "definitions": {
        "Task": {
        "type": "object",
        "properties": {
            "idTask": {
            "type": "number"
            },
            "idAgent": {
            "type": "number"
            },
            "idVehicle": {
            "type": "number"
            },
            "description": {
            "type": "string"
            },
            "idTaskState": {
            "type": "number"
            },
            "assignmentDate": {
            "type": "string"
            },
            " endDate": {
            "type": "string"
            },
            "taskModelId": {
                "type": "array", 
                "additionalProperties": {
                    "$ref": "#/definitions/TaskModel"
                }
            }, 
            "usedEquipments": {
            "type": "array",
            "additionalProperties": {
                "$ref": "#/definitions/UsedEquipment"
            }
            }, 
            " uuid": {
                "type": "number"
            }
            }
        },
        "UsedEquipment": {
            "type": "object",
            "properties": {
            "idUsedEquipment": {
                "type": "number"
            },
            "description": {
                "type": "string"
            },
            "quantity": {
                "type": "number"
            },
            "task": {
                "type": "array", 
                "additionalProperties": {
                "$ref": "#/definitions/Task"
                }
            }
            }
        },
        "TaskModel": {
            "type": "object",
            "properties": {
            "id": {
                "type": "number"
            },
            "taskModelName": {
                "type": "string"
            },
            "steps": {
                "type": "array", 
                "additionalProperties": {
                "$ref": "#/definitions/Step"
                }
            }, 
            "tasks": {
                "type": "array", 
                "additionalProperties": {
                "$ref": "#/definitions/Task"
                }
            }
            }
        }, 
        "Step": {
            "type": "object",
            "properties": {
            "idStep": {
                "type": "number"
            },
            "step": {
                "type": "string"
            }, 
            "modelId": {
                "type": "number"
            }
            }
        }
    },


    "paths": {
        "/":{
            "get": {
                "summary": "welcome to the agent's Tasks management service.üñêÔ∏è",
                "tags": [
                    "Task"
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Failed. Bad post data."
                    },
                    "404": {
                        "description": "Failed. task not found."
                    }
                }
            }
        },
        "/task": {
            "get": {
                "description": "API endpoint pour avoir tout les taches des agents de maintenanace dans le syst√®me \n \n*Une requ√™te de r√©cup√©ration avec succ√®s va retourner un Status code HTTP 200 \nUne requ√™te de r√©cup√©ration qui √©choue va retourner un Status code HTTP 500 \nSinon le endpoint n'existe pas et la requ√™te va retourner un Status code HTTP 404*",
                "summary": "API endpoint pour avoir tout les taches des agents de maintenanace dans le syst√®me üå†",
                "tags": [
                    "Task"
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                }
            }, 
            "post": {
                "tags": [
                    "Task"
                ],
                "description": "API endpoint pour cr√©er une tache taches de maintenanace dans le syst√®me \n \n*Une requ√™te de cr√©ation avec succ√®s va retourner un Status code HTTP 200 \nSinon le endpoint n'existe pas et la requ√™te va retourner un Status code HTTP 404*",
                "summary": "API endpoint pour cr√©er une tache pour un agents de maintenanace dans le syst√®me üåü",
                "parameters": [{
                    "in": "body",
                    "name": "body", 
                    "description": "cr√©ation d'une tache üåö", 
                    "schema": {
                        "$ref": "#/definitions/Task"
                    }
                }],
                "produces": [
                    "application/json"
                ], 
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Failed"
                    }
                }

            }
        }, 
        "/task/{uuid}":{
            "parameters": [{
                "name": "uuid",
                "in": "path",
                "required": true,
                "description": "l'uuid √† r√©cup√©rer: ", 
                "type": "string"
            }],
            "get": {
                "tags": [
                    "Task"
                ],
                "summary": "r√©cup√©rer la tache avec l'uuid sp√©cifi√© en parametre üìé",
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    },
                    "404": {
                        "description": "Failed. Task not found."
                    }
                }
            },

            "put": {
                "summary": "mettre √† jour la tache avec l'uuid sp√©cifi√© en parametre üìé",
                "tags": [
                    "Task"
                ],
                "parameters": [{
                    "in": "body",
                    "name": "body",
                    "required": true,
                    "description": "task with new values of properties",
                    "schema": {
                        "$ref": "#/definitions/Task"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Failed. Bad post data."
                    },
                    "404": {
                        "description": "Failed. task not found."
                    }
                }
            },

            "delete": {
                "summary": "supprimer la tache avec l'uuid sp√©cifi√© en parametre üìé",
                "tags": [
                    "Task"
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Failed. Task not found."
                    }
                }
            }
        },  

        "/taskState/{uuid}":{
            "put": {
                "summary": "mettre √† jour l'√©tat d'une la tache avec l'uuid sp√©cifi√© en parametre üìé",
                "tags": [
                    "Task"
                ],
                "parameters": [{
                    "in": "body",
                    "name": "body",
                    "required": true,
                    "description": "new state of a state",
                    "schema": {
                        "$ref": "#/definitions/Task"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Failed. Bad post data."
                    },
                    "404": {
                        "description": "Failed. task not found."
                    }
                }
            }
        },
        "/task/agent/{idAgent}":{
            "parameters": [{
                "name": "idAgent",
                "in": "path",
                "required": true,
                "description": "retourner la tache avec l'id de l'agent sp√©cifi√© en parametre üìé",
                "type": "string"
            }],
            "get": {
                "summary": "API endpoint pour r√©cup√©rer la tache d'un agent avec d'id du l'agent sp√©cifi√© en parametre üåü",
                "tags": [
                    "Task-Agent"
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    },
                    "404": {
                        "description": "Failed. Task not found."
                    }
                }
            }
        }, 

        "/taskModel":{
            "get": {
                "tags": [
                    "Task-Model"
                ],
                "description": "API endpoint pour avoir tout les modeles des taches des agents de maintenanace dans le syst√®me \n \n*Une requ√™te de r√©cup√©ration avec succ√®s va retourner un Status code HTTP 200 \nUne requ√™te de r√©cup√©ration qui √©choue va retourner un Status code HTTP 500 \nSinon le endpoint n'existe pas et la requ√™te va retourner un Status code HTTP 404*",
                "summary": "API endpoint pour avoir tout les modeles des taches des agents de maintenanace dans le syst√®me üå†",
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                }
            }, 
            "post": {
                "tags": [
                    "Task-Model"
                ],
                "description": "API endpoint pour avoir tout les modeles des taches des agents de maintenanace dans le syst√®me \n \n*Une requ√™te de cr√©ation avec succ√®s va retourner un Status code HTTP 200 \nSinon le endpoint n'existe pas et la requ√™te va retourner un Status code HTTP 404*",
                "summary": "API endpoint pour cr√©er un modele des taches pour un agents de maintenanace dans le syst√®me üåö",
                "produces": [
                    "application/json"
                ], 
                "consumes":[
                    "application/json"
                ],
                "parameters": [{
                    "in": "body",
                    "name": "body", 
                    "description": "cr√©ation d'une modele de tache ", 
                    "required": true, 
                    "schema": {
                        "$ref": "#/definitions/TaskModel"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Failed"
                    }
                }

            }
        },

        "/taskModel/{id}":{
            "parameters": [{
                "name": "id",
                "in": "path",
                "required": true,
                "description": "l'id du model du tache: ", 
                "type": "integer"
            }],
            "get": {
                "tags": [
                    "Task-Model"
                ],
                "summary": "r√©cup√©rer le model du tache avec l'id sp√©cifi√© en parametre üìé",
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    },
                    "404": {
                        "description": "Failed. Task not found."
                    }
                }
            },

            "put": {
                "summary": "mettre √† jour le modele du tache avec l'id sp√©cifi√© en parametre üìé",
                "tags": [
                    "Task-Model"
                ],
                "parameters": [{
                    "in": "body",
                    "name": "body",
                    "required": true,
                    "description": "task model with new values of properties",
                    "schema": {
                        "$ref": "#/definitions/TaskModel"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "400": {
                        "description": "Failed. Bad post data."
                    },
                    "404": {
                        "description": "Failed. task not found."
                    }
                }
            },

            "delete": {
                "summary": "supprimer le modele du tache avec l'id sp√©cifi√© en parametre üìé",
                "tags": [
                    "Task-Model"
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    },
                    "404": {
                        "description": "Failed. Task Model not found."
                    }
                }
            }
        }  
    }     
}
